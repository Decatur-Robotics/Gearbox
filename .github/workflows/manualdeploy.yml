# This is a basic workflow that is manually triggered

name: Manual Deploy

# Controls when the action will run. Workflow runs when manually triggered using the UI
# or API.
on:
  workflow_dispatch

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  empty_commit_to_retrigger_cd:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout Repository
      uses: actions/checkout@v2

    - run: git config user.email "{user.id}+{user.login}@users.noreply.github.com"
    - run: git config user.name "{user.actor}"

    - name: Create Empty Commit
      run: git commit --allow-empty -m "Empty commit to retrigger CD"

    - name: Push Empty Commit
      run: git push origin main  # Change 'main' to your branch name
      env:
        GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
